---
// src/components/cards/ProjectTeaserCard.astro
import { Image } from 'astro:assets';
import type { CollectionEntry } from 'astro:content';
import Card from '@/components/ui/Card.astro';
import Badge from '@/components/ui/Badge.astro';

interface Props {
  project: CollectionEntry<'projects'>;
}
const { project } = Astro.props;
const { title, tagline, cover, status } = project.data;
---

<a href={`/projects/${project.slug}`} class="project-teaser-card group block">
  <Card padding="none" class="relative h-full overflow-hidden">
    <div class="halo-effect pointer-events-none"></div>

    <!-- Imagen de Portada Optimizada -->
    <div class="aspect-video overflow-hidden">
      <Image
        src={cover}
        alt={`Imagen de portada del proyecto ${title}`}
        class="h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"
        loading="lazy"
        widths={[400, 800]}
        sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 33vw"
      />
    </div>

    <!-- Contenido de Texto -->
    <div class="flex flex-col p-6">
      <h4 class="text-lg font-bold text-text-primary">{title}</h4>
      <p
        class="mt-2 flex-grow text-sm text-text-secondary"
        style="font-weight: 300;"
      >
        {tagline}
      </p>
      <div class="mt-4">
        <Badge text={status} variant="accent" />
      </div>
    </div>
  </Card>
</a>
