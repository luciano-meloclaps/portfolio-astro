---
// src/components/sections/Hero.astro
import AnimatedProfession from '@/components/ui/AnimatedProfession.astro';
import StatusChip from '@/components/ui/StatusChip.astro';
import Button from '@/components/ui/Button.astro';
import AnimatedArrowIcon from '@/components/ui/AnimatedArrowIcon.astro';
import {
  IconCode,
  IconFocus2,
  IconUsersGroup,
  IconBrandGithub,
} from '@tabler/icons-react';
---

<!-- 
  ARQUITECTURA HERO "TWIN ATMOSPHERES"
  - Los efectos decorativos (gradient, grid, vignette) se aplican via ::before pseudoelemento
  - El contenido flota naturalmente en la misma capa que otras secciones
-->
<section
  class="selection:bg-accent-magenta/20 hero-section relative flex min-h-screen w-full flex-col items-center justify-center overflow-hidden text-gray-900 transition-colors duration-500 selection:text-black dark:text-white"
>
  <!-- =====================================================================
       ATMÓSFERA LIGHT/DARK via ::before pseudoelemento en CSS
       Los elementos decorativos están en una capa de fondo sin afectar z-index del contenido
       ===================================================================== -->

  <!-- =====================================================================
       CONTENIDO PRINCIPAL (En la misma capa que otras secciones)
       ===================================================================== -->
  <div
    class="relative z-10 flex flex-col items-center gap-y-10 px-4 text-center"
  >
    <!-- Título Animado -->
    <!-- drop-shadow ajustado para que se vea bien en blanco también -->
    <div class="hero-title drop-shadow-xl dark:drop-shadow-2xl">
      <AnimatedProfession />
    </div>

    <!-- Subtítulo Adaptable -->
    <p
      class="hero-subtitle max-w-xl text-lg font-light leading-relaxed tracking-wide text-gray-600 dark:text-gray-300 md:text-xl"
    >
      Arquitecto de Software especializado en experiencias de usuario de alto
      rendimiento.
    </p>

    <!-- Chips -->
    <div class="hero-chips flex flex-wrap justify-center gap-4">
      <StatusChip
        Icon={IconCode}
        label="Mode"
        value="Full-Stack"
        variant="active"
      />
      <StatusChip
        Icon={IconFocus2}
        label="Focus"
        value="Performance"
        variant="positive"
      />
      <StatusChip
        Icon={IconUsersGroup}
        label="Status"
        value="Disponible"
        variant="warning"
      />
    </div>

    <!-- Botones Adaptables -->
    <div class="hero-buttons flex flex-wrap justify-center gap-4 pt-6">
      <!-- Botón Principal -->
      <Button
        href="#projects"
        variant="primary"
      >
        <span>Ver Proyectos</span>
        <AnimatedArrowIcon />
      </Button>

      <!-- Botón Secundario: GitHub -->
      <Button
        href="https://github.com/luciano-meloclaps"
        variant="secondary"
        target="_blank"
      >
        <IconBrandGithub className="icon-base" />
        <span>GitHub</span>
      </Button>
    </div>
  </div>
</section>

<script>
  import gsap from 'gsap';

  document.addEventListener('astro:page-load', () => {
    const elementsToAnimate = [
      '.hero-title',
      '.hero-subtitle',
      '.hero-chips',
      '.hero-buttons',
    ];

    gsap.set(elementsToAnimate, { autoAlpha: 0, y: 30 });

    const tl = gsap.timeline({
      defaults: { duration: 1.4, ease: 'power4.out' },
    });

    tl.to('.hero-title', { autoAlpha: 1, y: 0 }, 0.2)
      .to('.hero-subtitle', { autoAlpha: 1, y: 0 }, '-=1.2')
      .to('.hero-chips', { autoAlpha: 1, y: 0 }, '-=1.2')
      .to('.hero-buttons', { autoAlpha: 1, y: 0 }, '-=1.1');
  });
</script>
