---
import type { FunctionComponent } from 'react';
import { techColorMap, defaultTechColor } from '@/config/tech-colors';

interface Props {
  Icon: FunctionComponent<any> | string;
  name: string;
  label?: string;
  iconClass?: string;
}

const { Icon, name, label, iconClass } = Astro.props;

// 'name' debe ser la forma NORMALIZADA de la tecnolog√≠a (ej: 'dotnet' no '.NET')
// 'label' es lo que se muestra al usuario (ej: '.NET')
// Usar name.toLowerCase() para lookup en techColorMap
const color = techColorMap[name.toLowerCase()] || defaultTechColor;
---

<div
  class="inline-flex items-center gap-x-2 rounded-md border bg-clip-padding px-3 py-1.5 backdrop-blur-xl"
  style=`
    color: ${color};
    border-color: ${color};
    background-color: ${color}1A;
    border-radius: var(--radius-small);
  `
>
  <Icon class:list={['icon-base', iconClass]} strokeWidth={1.5} />

  <span
    class="font-sans text-xs uppercase"
    style=`color: ${color}; font-weight: 300;`
  >
    {label || name}
  </span>
</div>
