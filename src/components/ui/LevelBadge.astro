---
// src/components/ui/LevelBadge.astro
import { IconStar, IconStarFilled } from '@tabler/icons-react';

type Level = 'Expert' | 'Advanced' | 'Intermediate' | 'Fundamental';
interface Props {
  level: Level;
}
const { level } = Astro.props;

const levelConfig = {
  Expert: { color: 'bg-red-500/10 text-red-400 border-red-500/20', stars: 3 },
  Advanced: {
    color: 'bg-purple-500/10 text-purple-400 border-purple-500/20',
    stars: 2,
  },
  Intermediate: {
    color: 'bg-blue-500/10 text-blue-400 border-blue-500/20',
    stars: 1,
  },
  Fundamental: {
    color: 'bg-gray-500/10 text-gray-400 border-gray-500/20',
    stars: 0,
  },
};

const config = levelConfig[level];
const totalStars = 3;
---

<div
  class:list={[
    'inline-flex items-center gap-x-2 rounded-pill border px-2 py-1 text-xs font-semibold',
    config.color,
  ]}
>
  <span>{level}</span>
  <div class="flex items-center">
    {
      Array.from({ length: totalStars }).map((_, i) =>
        i < config.stars ? (
          <IconStarFilled className="h-3 w-3" />
        ) : (
          <IconStar className="h-3 w-3 opacity-50" />
        )
      )
    }
  </div>
</div>
