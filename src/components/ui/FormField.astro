---
// src/components/ui/FormField.astro
// RESPONSABILIDAD: Encapsular la estructura de un campo de formulario (label, input/textarea).
interface Props {
  id: string;
  label: string;
  type?: 'text' | 'email';
  as?: 'input' | 'textarea';
  required?: boolean;
}
const {
  id,
  label,
  type = 'text',
  as = 'input',
  required = false,
} = Astro.props;
---

<div class="form-field group relative">
  <label
    for={id}
    class="absolute -top-2 left-4 bg-background px-1 text-xs text-text-secondary transition-colors group-focus-within:text-text-primary"
  >
    {label}
  </label>
  {
    as === 'input' ? (
      <input
        type={type}
        id={id}
        name={id}
        required={required}
        class="w-full rounded-small border border-border bg-transparent px-4 py-3 text-text-primary transition-colors focus:border-text-primary focus:outline-none"
      />
    ) : (
      <textarea
        id={id}
        name={id}
        required={required}
        rows={5}
        class="w-full resize-none rounded-small border border-border bg-transparent px-4 py-3 text-text-primary transition-colors focus:border-text-primary focus:outline-none"
      />
    )
  }
  <p class="error-message mt-1 hidden text-left text-xs text-red-500"></p>
</div>
