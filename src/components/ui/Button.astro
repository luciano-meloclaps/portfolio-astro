---
// src/components/ui/Button.astro
interface Props {
  href?: string;
  variant?: 'primary' | 'secondary';
  class?: string;
  target?: '_blank' | '_self' | '_parent' | '_top';
}

const { href, variant = 'primary', class: className, target } = Astro.props;

const Tag = href ? 'a' : 'button';

const baseClasses = `
  relative inline-flex items-center justify-center gap-x-2 px-6 py-3 
  font-sans text-sm uppercase tracking-wider overflow-hidden
  border rounded-small
  transition-all duration-300 ease-out
  focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background
  active:scale-95
`;

const borderStyle = 'border-color: var(--color-border);'; // Shared border variable across all components

const variantClasses = {
  primary: `
    bg-text-primary text-background border
    hover:bg-transparent hover:text-text-primary
  `,
  // MEJORA: Usa variable de border compartida (consistencia con glass-panel, Navbar, Card, StatusChip)
  secondary: `
    bg-text-primary/5 border text-text-primary
    hover:bg-text-primary hover:text-background
  `,
};
---

<Tag
  href={href}
  target={target}
  style={borderStyle}
  class:list={[baseClasses, variantClasses[variant], className]}
>
  <!-- Z-index para asegurar que el texto estÃ© sobre cualquier efecto de fondo -->
  <span class="relative z-10 flex items-center gap-x-2">
    <slot />
  </span>
</Tag>
