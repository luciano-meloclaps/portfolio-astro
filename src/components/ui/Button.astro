---
// src/components/ui/Button.astro
// ARQUITECTURA "FUSIÓN GLACIAL" Y "INVERSIÓN DE CONTRASTE":
// Un componente de botón universal con dos variantes de animación de élite.

interface Props {
  href?: string;
  variant?: 'primary' | 'secondary';
  class?: string;
  target?: '_blank' | '_self' | '_parent' | '_top';
}

const { href, variant = 'primary', class: className, target } = Astro.props;

const Tag = href ? 'a' : 'button';

// --- LÓGICA DE ESTILOS DE ÉLITE ---
const baseClasses = `
  relative inline-flex items-center justify-center gap-x-2 px-6 py-3 
  font-sans text-sm uppercase tracking-wider overflow-hidden
  border 
  transition-all duration-300 ease-in-out
  focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-background
`;

const variantClasses = {
  // VARIANTE PRIMARIA (FUSIÓN GLACIAL): Sólido que se disuelve en vidrio.
  primary: `
    bg-text-primary text-background border-transparent
    hover:bg-transparent hover:text-text-primary hover:border-text-primary
    hover:backdrop-blur-base
    focus-visible:ring-text-primary
  `,
  // VARIANTE SECUNDARIA (INVERSIÓN DE CONTRASTE): Contorno que se rellena.
  secondary: `
    bg-transparent border-text-primary text-text-primary
    hover:bg-text-primary hover:text-background
    focus-visible:ring-text-primary
  `,
};
---

<Tag
  href={href}
  target={target}
  class:list={[
    baseClasses,
    variantClasses[variant],
    className,
    'rounded-small',
  ]}
>
  <span class="relative z-10 flex items-center gap-x-2">
    <slot />
  </span>
</Tag>
