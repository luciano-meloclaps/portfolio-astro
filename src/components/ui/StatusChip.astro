---
// src/components/ui/StatusChip.astro
import type { ElementType } from 'react';

// Definimos los estados posibles (Ampliados)
type Variant =
  | 'positive' // Verde (Éxito)
  | 'warning' // Ambar (Atención)
  | 'neutral' // Gris (Inactivo)
  | 'active' // Cyan (En curso)
  | 'info' // Azul (Información)
  | 'purple' // Violeta (.NET/C#)
  | 'indigo' // Indigo (Educación/Académico)
  | 'rose'; // Rosa (Freelance/Creativo)

interface Props {
  Icon: ElementType | any;
  label: string;
  value: string;
  variant?: Variant;
  class?: string;
}

const {
  Icon,
  label,
  value,
  variant = 'positive',
  class: className,
} = Astro.props;

const variantConfig: Record<
  Variant,
  { text: string; dot: string; glow: string }
> = {
  positive: {
    text: 'text-emerald-500',
    dot: 'bg-emerald-500',
    glow: 'shadow-emerald-500/20',
  },
  warning: {
    text: 'text-amber-500',
    dot: 'bg-amber-500',
    glow: 'shadow-amber-500/20',
  },
  neutral: {
    text: 'text-slate-400',
    dot: 'bg-slate-500',
    glow: 'shadow-slate-500/20',
  },
  active: {
    text: 'text-cyan-400',
    dot: 'bg-cyan-500',
    glow: 'shadow-cyan-500/20',
  },
  info: {
    text: 'text-blue-400',
    dot: 'bg-blue-500',
    glow: 'shadow-blue-500/20',
  },
  purple: {
    text: 'text-purple-400',
    dot: 'bg-purple-500',
    glow: 'shadow-purple-500/20',
  },
  indigo: {
    text: 'text-indigo-400',
    dot: 'bg-indigo-500',
    glow: 'shadow-indigo-500/20',
  },
  rose: {
    text: 'text-rose-400',
    dot: 'bg-rose-500',
    glow: 'shadow-rose-500/20',
  },
};

const theme = variantConfig[variant];
---

<div
  class:list={[
    'inline-flex select-none items-center justify-between gap-x-3 rounded-small px-3 py-1.5 transition-colors duration-300',
    'bg-panel/20 dark:bg-panel/10 border border-border',
    'backdrop-blur-[var(--blur-base)]',
    'shadow-sm',
    className,
  ]}
>
  <div class="flex items-center gap-x-2.5">
    <Icon class:list={['h-4 w-4', theme.text]} strokeWidth={1.5} />
    <div class="flex gap-1.5 font-sans text-xs uppercase tracking-wider">
      <span class="text-text-secondary/80 font-bold">{label}</span>
      <span class="bg-border/50 h-3 w-[1px] self-center"></span>
      <span class="font-medium text-text-primary">{value}</span>
    </div>
  </div>

  <div class="relative ml-1 flex h-1.5 w-1.5 items-center justify-center">
    <span class:list={['absolute h-1.5 w-1.5 rounded-full', theme.dot]}></span>
    <span
      class:list={[
        'absolute h-full w-full animate-ping rounded-full opacity-75',
        theme.dot,
      ]}></span>
    <span
      class:list={[
        'absolute h-2 w-2 rounded-full opacity-50 blur-[2px]',
        theme.dot,
      ]}></span>
  </div>
</div>
